<!doctype html>
<body>
<input type="file" id="fileInput">
<div id="covInstContainer" style="width: 500px; height: 400px;"></div>
<div id="covBranContainer" style="width: 500px; height: 400px;"></div>
<script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js" type="text/javascript"></script>
<script>
// https://jsfiddle.net/b1ynb405/
var fileInput = document.getElementById('fileInput');
var fileDisplayArea = document.getElementById('fileDisplayArea');

fileInput.addEventListener('change', function(e) {
    var file = fileInput.files[0];
    var textType = /text.*/;
    const covInstResults = [];
	const covBranResults = [];
	
    if (file.type.match(textType)) {
        var reader = new FileReader();
        
        reader.onload = function(e) {
            var fileContent = reader.result;
			var arrLines = fileContent.split("\r\n");
			for (var i = 0; i < arrLines.length; i++) {
			    // Time | 2021_09_13_11_28_33 | Missed Instructions | 16,305 of 18,288 | Cov | 10,84 | Missed Branches | 1,167 of 1,214 | Cov | 3,87 | Missed | 1,465 | Cxty | 1,738 | Missed | 3,610 | Lines | 4,184 | Missed | 864 | Methods | 1,127 | Missed | 67 | Classes | 153
                covInstResults.push( parseFloat( arrLines[i].split(" | ")[5].replace(",",".") ) );
				covBranResults.push( parseFloat( arrLines[i].split(" | ")[9].replace(",",".") ) );
            }
			
			//console.log(covInstResults);
			//console.log(covBranResults);
			
            //create a line chart
            var chartInst = anychart.line(covInstResults);
			var chartBran = anychart.line(covBranResults);
	
            chartInst.title("Instruction Coverage");
			chartBran.title("Branch Coverage");
			
            //set the container where chart will be drawn
            chartInst.container("covInstContainer");
			chartBran.container("covBranContainer");
			
            //draw the chart on the page
            chartInst.draw();
			chartBran.draw();
        }
        
        reader.readAsText(file);	
    } else {
        fileDisplayArea.innerText = "File not supported!"
    }
});
</script>
</body>
</html>