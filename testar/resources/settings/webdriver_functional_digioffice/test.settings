#################################################################
# TESTAR mode
#
# Set the mode you want TESTAR to start in: Spy, Generate, Replay
#################################################################

Mode = Spy

#################################################################
# Connect to the System Under Test (SUT)
#
# Indicate how you want to connect to the SUT:
#
# SUTCONNECTOR = COMMAND_LINE, SUTConnectorValue property must be a command line that
# starts the SUT.
# It should work from a Command Prompt terminal window (e.g. java - jar SUTs/calc.jar ).
# For web applications, follow the next format: web_browser_path SUT_URL.
#
# SUTCONNECTOR = SUT_WINDOW_TITLE, then SUTConnectorValue property must be the title displayed
# in the SUT main window. The SUT must be manually started and closed.
#
# SUTCONNECTOR = SUT_PROCESS_NAME: SUTConnectorValue property must be the process name of the SUT.
# The SUT must be manually started and closed.
#################################################################

SUTConnector = WEB_DRIVER
SUTConnectorValue = "https://dev1-digioffice.dodev.nl"

#################################################################
# Regular expressions that indicates which processes conform the SUT
#
# This regex expression can be used to attach TESTAR to a multi-processes SUT
#################################################################

SUTProcesses = 

#################################################################
# Java Swing applications & Access Bridge Enabled
#
# Activate the Java Access Bridge in your Windows System:
#		(Control Panel / Ease of Access / Ease of Access Center / Make the computer easier to see)
#
# Enable the variable Access Bridge Enabled in TESTAR as true
#################################################################

AccessBridgeEnabled = false

#################################################################
# Sequences
#
# Number of sequences and the length of these sequences
#################################################################

Sequences = 150
SequenceLength = 300

#################################################################
# SUT Protocol
#
# ProtocolClass: Indicate the location of the protocol class for your specific SUT
# AlwaysCompile: Compile the protocol before launching the selected TESTAR mode
#################################################################

ProtocolClass = webdriver_functional_digioffice/Protocol_webdriver_functional_digioffice
AlwaysCompile = false

#################################################################
# Actionfilter
#
# Regular expression and Tags to apply them.
# More filters can be added in Spy mode, 
# these will be added to the protocol_filter.xml file.
#################################################################

ClickFilter = .*[uU]pload.*|[sS]howPreviewInNewWindow|.*[sS]ave.*|View page source|View frame source|Print.*|Inspect|.*Google.*|.*incognito.*|Fout bij synchronisatie|Informatie\\.\\.\\.|Open|i|Entiteit importeren uit Excel|Afbeelding toevoegen|Stringtemplates|Script tools|Systeemfuncties|Afdrukken|Verwijderlog|E-mail wachtrij|Tabelinstellingen|Vertalingen|Dashboard|cke_42
TagsToFilter = Title;WebName;WebTagName

#################################################################
# Processfilter
#
# Regular expression. Kill the processes that your SUT can start up
# but that you do not want to test.
#################################################################

ProcessesToKillDuringTest = .*msedge.*

#################################################################
# Oracles based on suspicious tag values
#
# Regular expression and Tags to apply them
#################################################################

SuspiciousTags = (?!x)x
TagsForSuspiciousOracle = Title;WebName;WebTagName;Desc;WebTextContent

#################################################################
# Oracles based on Suspicious Outputs detected by Process Listeners
#
# Requires ProcessListenerEnabled
# (Only available for desktop applications through COMMAND_LINE)
#
# Regular expression SuspiciousProcessOutput contains the specification
# of what is considered to be suspicious output.
#################################################################

ProcessListenerEnabled = false
SuspiciousProcessOutput = .*[eE]rror.*|.*[eE]xcep[ct]i[o?]n.*

#################################################################
# Process Logs
#
# Required ProcessListenerEnabled
# (Only available for desktop applications through COMMAND_LINE)
#
# Allow TESTAR to store execution logs coming from the processes.
# You can use the regular expression ProcessLogs below to filter
# the logs. Use .*.* if you want to store all the outputs of the 
# process.
#################################################################

ProcessLogs = .*.*

#################################################################
# Oracles based on suspicious titles in SUT output files
#################################################################

LogOracleEnabled = false
LogOracleRegex = .*([Ee]xception|[Ee]rror).*
LogOracleCommands = 
LogOracleFiles = 

#################################################################
# Time configurations
#
# ActionDuration: Sets the speed, in seconds, at which a GUI action is performed
# TimeToWaitAfterAction: Sets the delay, in seconds, between UI actions during a test
# StartupTime: Sets how many seconds to wait for the SUT to be ready for testing
# MaxTime: Sets a time, in seconds, after which the test run is finished (e.g. stop after an hour)
#################################################################

ActionDuration = 0.1
TimeToWaitAfterAction = 0.2
StartupTime = 30.0
MaxTime = 3.1536E7

#################################################################
# System Under Test (SUT) identification
#
# ApplicationName: Name to identify the SUT.
# ApplicationVersion: Version to identify the SUT.
#################################################################

ApplicationName = DigiOffice
ApplicationVersion = 2025.2

#################################################################
# State model inference settings
#
# StateModelEnabled: Enable or disable the State Model feature
# DataStore: The graph database we use to store the State Model: OrientDB
# DataStoreType: The mode we use to connect to the database: remote or plocal
# DataStoreServer: IP address to connect if we desired to use remote mode
# DataStoreDirectory: Path of the directory on which local OrientDB exists, if we use plocal mode
# DataStoreDB: The name of the desired database on which we want to store the State Model.
# DataStoreUser: User credential to authenticate TESTAR in OrientDB
# DataStorePassword: Password credential to authenticate TESTAR in OrientDB
# DataStoreMode: Indicate how TESTAR should store the model objects in the database: instant, delayed, hybrid, none
# ActionSelectionAlgorithm: State Model Action Selection mechanism to explore the SUT: random or unvisited
# StateModelStoreWidgets: Save all widget tree information in the State Model every time TESTAR discovers a new Concrete State
# ResetDataStore: WARNING: Delete all existing State Models from the selected database before creating a new one
#################################################################

StateModelEnabled = false
DataStore = 
DataStoreType = remote
DataStoreServer = 
DataStoreDirectory = 
DataStoreDB = 
DataStoreUser = 
DataStorePassword = 
DataStoreMode = none
ActionSelectionAlgorithm = random
StateModelStoreWidgets = true
ResetDataStore = false

#################################################################
# State identifier attributes
#
# Specify the widget attributes that you wish to use in constructing
# the widget and state hash strings. Use a comma separated list.
#################################################################

AbstractStateAttributes = WebWidgetTextContent,WebWidgetId

#################################################################
# LLM agents settings
#
# Specify the settings to connect with an LLM server and
# the prompt configurations to guide the LLM agent in accomplishing a test goal.
#################################################################

LlmPlatform = OpenAI
LlmModel = AskRobinAboutDigiOfficeGPT4oMini
LlmHostUrl = https://idbazureopenai.openai.azure.com/openai/deployments/AskRobinAboutDigiOfficeGPT4oMini/chat/completions?api-version=2025-01-01-preview
LlmAuthorizationHeader = Bearer %AzureAI%
LlmActionFewshotFile = prompts/fewshot_openai_action.json
LlmOracleFewshotFile = prompts/fewshot_openai_oracle.json
LlmTemperature = 0.2
LlmHistorySize = 5
LlmStateless = true
LlmTestGoals = Als gebruiker wil ik een nieuwe relatie invoeren met de naam 'TESTAR' en hieraan een contactpersoon 'Robin Bouwmeester' koppelen.;Als gebruiker wil ik een nieuw documentregistratie maken met registratieprofiel 'Document (overig)' en documentsoort 'Memo'bij project '127 Woningen Woerden Oost' met als onderwerp 'TESTAR ONDERWERP';Als gebruiker wil ik de gebruikersinstelling 'Aantal records per pagina' instellen op 100.

#################################################################
# WebDriver advanced state fetcher configuration
#################################################################
WebIgnoredTags = script;noscript;head;meta;style;link;svg;canvas
WebIgnoredAttributes = xpath;innerHTML;outerHTML

#################################################################
# WebDriver features
#
# ClickableClasses: Indicate which web CSS classes need to be considered clickable
# TypeableClasses: Indicate which web CSS classes need to be considered typeable
# DeniedExtensions: Indicate which web URL extensions need to be ignored when testing
# WebDomainsAllowed: Indicate which web URL domains are allowed to explore when testing
# WebPathsAllowed: Regular expressions to indicate which web URL paths are allowed to explore when testing
# FollowLinks: Indicate if allowing to follow links opened in new tabs
# BrowserFullScreen: Indicate if perform the web testing with the browser in full screen
# SwitchNewTabs: Indicate if switch to a new web tab if opened
#################################################################

ClickableClasses = v-menubar-menuitem;v-menubar-menuitem-caption;t;fas;workspace-title;workspace;workspace-toggler;item ufa;fa-fw;werkruimtetaken;fa-tasks;fa-fw werkruimtebeheer fas fa-wrench
TypeableClasses = 
DeniedExtensions = pdf;jpg;png
WebDomainsAllowed = www.ou.nl;mijn.awo.ou.nl;login.awo.ou.nl
WebPathsAllowed = 
FollowLinks = true
BrowserFullScreen = false
SwitchNewTabs = true

#################################################################
# WebDriver Browser Console Oracles
#
# WebConsoleErrorOracle: Enable or Disable applying ORACLES to the browser error console
# WebConsoleErrorPattern: Regular expressions ORACLE to find suspicious messages in the browser error console
# WebConsoleWarningOracle: Enable or Disable applying ORACLES to the browser warning console
# WebConsoleWarningPattern: Regular expressions ORACLE to find suspicious messages in the browser warning console
#################################################################

WebConsoleErrorOracle = true
WebConsoleErrorPattern = ^(?=.*.*)(?!.*goToPage.*).*
WebConsoleWarningOracle = true
WebConsoleWarningPattern = .*.*

#################################################################
# Override display scale
#
# Overrides the displayscale obtained from the system.
# Can solve problems when the mouse clicks are not aligned with
# the elements on the screen. This can easily be detected when
# running the spy mode. For example hover over a text element and
# the popup window should appear with information about the
# element, if the popup window is not shown or when the mouse is
# located somewhere else you can try to override the displayscale
# Values should be provided as doubles (1.5).
#################################################################

OverrideWebDriverDisplayScale = 

#################################################################
# Settings (string) that can be used for user specified protocols
#################################################################

ProtocolSpecificSetting_1 = 
ProtocolSpecificSetting_2 = 
ProtocolSpecificSetting_3 = 
ProtocolSpecificSetting_4 = 
ProtocolSpecificSetting_5 = 

#################################################################
# Extended settings file
#
# Relative path to extended settings file.
#################################################################

ExtendedSettingsFile = .\\settings\\webdriver_functional_digioffice\\ExtendedSettings.xml

#################################################################
# Set the types of reports to create
#################################################################

ReportInHTML = true
ReportInPlainText = false

#################################################################
# Extended test oracles
#################################################################

ExtendedOracles = 

#################################################################
# Settings to configure code coverage features
#################################################################

JacocoCoverage = false
JacocoCoverageIpAddress = localhost
JacocoCoveragePort = 5000
JacocoCoverageClasses = path/to/SUT/classes
JacocoCoverageAccumulate = false

#################################################################
# Sets whether to display TESTAR dialog. If false is used, then TESTAR will run in the mode of the Mode property
#################################################################

ShowVisualSettingsDialogOnStartup = true

#################################################################
# Sets whether to keep the SUTs GUI active in the screen (e.g. when its minimised or when a process is started and its UI is in front, etc.)
#################################################################

ForceForeground = true

#################################################################
# Specify the widget attributes that you wish to visualize during Spy Mode. Use a semicolon separated list.
#################################################################

SpyTagAttributes = AbstractID;Blocked;ConcreteID;Desc;Enabled;Path;Role;Shape;Title;WebAlt;WebCssClasses;WebDisplay;WebGenericTitle;WebHref;WebId;WebIsBlocked;WebIsClickable;WebIsContentElement;WebIsControlElement;WebIsDisabled;WebIsDisplayed;WebIsEnabled;WebIsFullOnScreen;WebIsHidden;WebIsKeyboardFocusable;WebIsShadow;WebIsTopmostWindow;WebIsWindowModal;WebItemStatus;WebItemType;WebName;WebNaturalHeight;WebNaturalWidth;WebSrc;WebStyle;WebTagName;WebTarget;WebTextContent;WebTitle;WebType;WebValue

#################################################################
# Sets whether to display overlay information, inside the SPY mode, for all the UI actions derived from the test set up
#################################################################

VisualizeActions = false

#################################################################
# Enables or disables a specific web action that populate data in web forms
#################################################################

FormFillingAction = false

#################################################################
# Sets the logging level to critical messages (0), information messages (1) or debug messages (2)
#################################################################

LogLevel = 1

#################################################################
# Sets whether to save test sequences without failures
#################################################################

OnlySaveFaultySequences = true

#################################################################
# Inside the replay mode, establishes the time window in seconds for trying to replay a UI action of a replayed test sequence
#################################################################

ReplayRetryTime = 30.0

#################################################################
# Sets whether to finish a test in the presence of a fail (e.g. Suspicious Tag detected)
#################################################################

StopGenerationOnFault = true

#################################################################
# Sets the time window, in seconds, for which to wait for a not responding SUT. After that, the test will finish with a fail
#################################################################

TimeToFreeze = 30.0

#################################################################
# Inside the replay mode sets whether to use the action duration (ActionDuration and TimeToWaitAfterAction) as specified in the generated test sequence
#################################################################

UseRecordedActionDurationAndWaitTimeDuringReplay = false

#################################################################
# ANDROID: Indicate if add system calls
#################################################################

UseSystemActions = 

#################################################################
# The sequence to REPLAY is the one indicated in this parameter
#################################################################

PathToReplaySequence = C:\\TESTAR\\bin\\output\\2023-03-28_22h33m08s_DigiOfficeDev1_20231\\HTMLreports\\2023-03-28_22h33m08s_DigiOfficeDev1_20231_sequence_1_WARNING_UI_ITEM_VISIBILITY_FAULT.html

#################################################################
# Time in milliseconds that indicates the frequency of refreshing the screen in SPY mode
#################################################################

RefreshSpyCanvas = 1.0

#################################################################
# Sets whether to draw a feedback message in the top-left corner of the screen
#################################################################

FlashFeedback = true

#################################################################
# MaxReward value for the QLearningActionSelector
#################################################################

MaxReward = 9999999.0

#################################################################
# Discount value for the QLearningActionSelector
#################################################################

Discount = 0.95

#################################################################
# Sets whether create a JSON file with information about widgets and their location on the screenshot
#################################################################

CreateWidgetInfoJsonFile = false

#################################################################
# The relative path that contains the TESTAR protocols
#################################################################

MyClassPath = ./settings

#################################################################
# The relative path on which compile the TESTAR protocols and create the class files
#################################################################

ProtocolCompileDirectory = ./settings

#################################################################
# The relative path to save TESTAR output results
#################################################################

OutputDir = ./output

#################################################################
# The relative path to temporarily  save TESTAR files
#################################################################

TempDir = ./output/temp

#################################################################
# Other settings
#################################################################
GenerateReplayableSequence = false
OfflineGraphConversion = true
StateScreenshotSimilarityThreshold = 1.4E-45
ExplorationSampleInterval = 1
VisualizeSelectedAction = true
UnattendedTests = false
ShowSettingsAfterTest = true
DrawWidgetTree = false
DrawWidgetInfo = false
FaultThreshold = 1.0E-9
Delete = 
AlgorithmFormsFilling = false
TestGenerator = random
GraphResuming = true
DrawWidgetUnderCursor = true
ExecuteActions = true
ReportingClass = HTML Reporting
GraphsActivated = true
ForceToSequenceLength = true
/? = 
NonReactingUIThreshold = 100
" = 
KeyBoardListener = true
CopyFromTo = 
SuspiciousTitles = ^(?=.*[eE]rror.*|.*[eE]xcepti[o?]n.*|.*[Ee]xceptie.*|.*[fF]out.*|.*[pP]robleem.*|.*Violation.*)(?!.*[vV]alidatiefout.*|Fout bij synchronisatie|ctl00\\$cphDetail\\$ctl00\\$dbcExportQueue\\$txtFoutmelding|ctl00_cphDetail_ctl00_dbcPowerShellValidatieScript_fcFoutmelding_pnlTextBox|ctl00\\$cphDetail\\$ctl00\\$dbcPowerShellValidatieScript\\$fcFoutmelding\\$txtVertaling|ctl00_cphDetail_ctl00_dbcPowerShellValidatieScript_fcFoutmelding_lblVertaling|ctl00\\$cphDetail\\$ctl00\\$dbcDocGenTaak\\$TextBoxAantalFout|Foutmelding|DocumentenMetFoutcode|ctl00\\$cphDetail\\$ctl00\\$ddlExceptionProcesID|Documents with errorcode|Documenten met foutcode|.*console\\.error.*|DigiOffice - Documenten met foutcode|RetentieschemaFout|PermissiesetFout|.*Stoppen ?[bB]ij ?[eE]xceptie|Aantal[ ]fout|Fout|Productwijzigingen, prijs-, typ- en rekenfouten voorbehouden\\.|ctl00_cphDetail_ctl00_lblExceptionProcesID|ctl00_cphDetail_ctl00_dbcPowerShellValidatieScript_fcFoutmelding_txtVertalingRequiredValidator|ctl00_cphDetail_ctl00_dbcPowerShellValidatieScript_fcFoutmelding_pnlTextBox|ctl00_cphDetail_ctl00_dbcExportQueue_lblFoutmelding|Keyboard shortcuts|Taak voltooid met fouten|.*console.error.*|.*Alle haakjes kloppen.Expressie.*|ctl00_cphDetail_ctl00_dbcDocGenTaak_lbltBoxAantalFout|ctl00_cphDetail_ctl00_dbcPowerShellValidatieScript_fcFoutmelding_faIcon|ctl00_cphDetail_ctl00_dbcPowerShellValidatieScript_fcFoutmelding_pnlLabel|ctl00_cphDetail_ctl00_dbcPowerShellValidatieScript_fcFoutmelding_pnlWrapper|do-form-error-handler|Alleen wanneer taak foutief is|Report a map error|DossierFout|Probleem met werkstroom oplossen \\(Gebruikerinteractie\\)|Er is een fout opgetreden tijden uitvoeren van entiteittype melding|0 fouten gevonden|SaveError|ProjectFout|KenmerkFout|VerantwoordelijkeFout|PostcodeError|BTWError|GroepFout|.*new InvalidOperationException.*|OnExceptionProcesID|ctl00_cphDetail_ctl00_ddlExceptionProcesIDRequiredValidator|.*zonder foutmelding.*|.*Deze is nodig voor het goed functioneren van DigiOffice.*).*
TypingTextsForExecutedAction = 10
